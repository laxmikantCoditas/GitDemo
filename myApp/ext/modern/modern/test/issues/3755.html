<!DOCTYPE html>
<html>
<head>
    <title>TOUCH-3755</title>

    <script src="../../sencha-touch-debug.js"></script>
    <link rel="stylesheet" href="../../resources/css/sencha-touch.css">

    <script type="text/javascript">
        Ext.setup({ 
            requires: [
                'Ext.data.Store','Ext.dataview.List'
            ],
            onReady: function() {
                var store = Ext.create('Ext.data.Store', {
                    fields: ['name', 'img', {name:'text', type: 'string', convert:function(v) {console.log('text: ' + v); return v + ' more';}}],
                    data: [
                        {
                            name: 'rdougan',
                            img: 'http://a0.twimg.com/profile_images/1261180556/171265_10150129602722922_727937921_7778997_8387690_o_reasonably_small.jpg',
                            text: 'JavaScript development'
                        }
                    ]
                });

                Ext.create('Ext.dataview.List', {
                    fullscreen: true,

                    store: store,

                    plugins: [
                        {
                            xclass: 'Ext.plugin.PullRefresh',
                            pullRefreshText: 'Pull down for more new Tweets!'
                        }
                    ],

                    itemTpl: [
                        '<img src="{img}" alt="{name} photo" />',
                        '<div class="tweet"><b>{name}:</b> {text}</div>'
                    ]
                });
            }
        });
    </script>
</head>
<body>
</body>
</html>
