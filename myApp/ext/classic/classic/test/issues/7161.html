<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Failed test case</title>
<link rel="stylesheet" type="text/css" href="../../resources/css/ext-all.css" />
<script type="text/javascript" src="../../ext.js"></script>
</head>
<body>
    <script type="text/javascript" charset="utf-8">
// 168 dates
jsonData = [{
    "date_time_value": "01 Jun 00",
    "tasks_closed": 33
}, {
    "date_time_value": "01 Jun 01",
    "tasks_closed": 45
}, {
    "date_time_value": "01 Jun 02",
    "tasks_closed": 45
}, {
    "date_time_value": "01 Jun 03",
    "tasks_closed": 45
}, {
    "date_time_value": "01 Jun 04",
    "tasks_closed": 47
}, {
    "date_time_value": "01 Jun 05",
    "tasks_closed": 30
}, {
    "date_time_value": "01 Jun 06",
    "tasks_closed": 58
}, {
    "date_time_value": "01 Jun 07",
    "tasks_closed": 52
}, {
    "date_time_value": "01 Jun 08",
    "tasks_closed": 33
}, {
    "date_time_value": "01 Jun 09",
    "tasks_closed": 31
}, {
    "date_time_value": "01 Jun 10",
    "tasks_closed": 40
}, {
    "date_time_value": "01 Jun 11",
    "tasks_closed": 44
}, {
    "date_time_value": "01 Jun 12",
    "tasks_closed": 53
}, {
    "date_time_value": "01 Jun 13",
    "tasks_closed": 59
}, {
    "date_time_value": "01 Jun 14",
    "tasks_closed": 35
}, {
    "date_time_value": "01 Jun 15",
    "tasks_closed": 31
}, {
    "date_time_value": "01 Jun 16",
    "tasks_closed": 41
}, {
    "date_time_value": "01 Jun 17",
    "tasks_closed": 45
}, {
    "date_time_value": "01 Jun 18",
    "tasks_closed": 41
}, {
    "date_time_value": "01 Jun 19",
    "tasks_closed": 45
}, {
    "date_time_value": "01 Jun 20",
    "tasks_closed": 58
}, {
    "date_time_value": "01 Jun 21",
    "tasks_closed": 43
}, {
    "date_time_value": "01 Jun 22",
    "tasks_closed": 39
}, {
    "date_time_value": "01 Jun 23",
    "tasks_closed": 53
}, {
    "date_time_value": "02 Jun 00",
    "tasks_closed": 36
}, {
    "date_time_value": "02 Jun 01",
    "tasks_closed": 31
}, {
    "date_time_value": "02 Jun 02",
    "tasks_closed": 33
}, {
    "date_time_value": "02 Jun 03",
    "tasks_closed": 31
}, {
    "date_time_value": "02 Jun 04",
    "tasks_closed": 33
}, {
    "date_time_value": "02 Jun 05",
    "tasks_closed": 43
}, {
    "date_time_value": "02 Jun 06",
    "tasks_closed": 37
}, {
    "date_time_value": "02 Jun 07",
    "tasks_closed": 56
}, {
    "date_time_value": "02 Jun 08",
    "tasks_closed": 34
}, {
    "date_time_value": "02 Jun 09",
    "tasks_closed": 53
}, {
    "date_time_value": "02 Jun 10",
    "tasks_closed": 56
}, {
    "date_time_value": "02 Jun 11",
    "tasks_closed": 45
}, {
    "date_time_value": "02 Jun 12",
    "tasks_closed": 40
}, {
    "date_time_value": "02 Jun 13",
    "tasks_closed": 55
}, {
    "date_time_value": "02 Jun 14",
    "tasks_closed": 34
}, {
    "date_time_value": "02 Jun 15",
    "tasks_closed": 56
}, {
    "date_time_value": "02 Jun 16",
    "tasks_closed": 43
}, {
    "date_time_value": "02 Jun 17",
    "tasks_closed": 55
}, {
    "date_time_value": "02 Jun 18",
    "tasks_closed": 42
}, {
    "date_time_value": "02 Jun 19",
    "tasks_closed": 51
}, {
    "date_time_value": "02 Jun 20",
    "tasks_closed": 59
}, {
    "date_time_value": "02 Jun 21",
    "tasks_closed": 35
}, {
    "date_time_value": "02 Jun 22",
    "tasks_closed": 43
}, {
    "date_time_value": "02 Jun 23",
    "tasks_closed": 50
}, {
    "date_time_value": "03 Jun 00",
    "tasks_closed": 56
}, {
    "date_time_value": "03 Jun 01",
    "tasks_closed": 45
}, {
    "date_time_value": "03 Jun 02",
    "tasks_closed": 54
}, {
    "date_time_value": "03 Jun 03",
    "tasks_closed": 49
}, {
    "date_time_value": "03 Jun 04",
    "tasks_closed": 34
}, {
    "date_time_value": "03 Jun 05",
    "tasks_closed": 53
}, {
    "date_time_value": "03 Jun 06",
    "tasks_closed": 36
}, {
    "date_time_value": "03 Jun 07",
    "tasks_closed": 39
}, {
    "date_time_value": "03 Jun 08",
    "tasks_closed": 55
}, {
    "date_time_value": "03 Jun 09",
    "tasks_closed": 38
}, {
    "date_time_value": "03 Jun 10",
    "tasks_closed": 50
}, {
    "date_time_value": "03 Jun 11",
    "tasks_closed": 50
}, {
    "date_time_value": "03 Jun 12",
    "tasks_closed": 32
}, {
    "date_time_value": "03 Jun 13",
    "tasks_closed": 51
}, {
    "date_time_value": "03 Jun 14",
    "tasks_closed": 34
}, {
    "date_time_value": "03 Jun 15",
    "tasks_closed": 32
}, {
    "date_time_value": "03 Jun 16",
    "tasks_closed": 32
}, {
    "date_time_value": "03 Jun 17",
    "tasks_closed": 45
}, {
    "date_time_value": "03 Jun 18",
    "tasks_closed": 58
}, {
    "date_time_value": "03 Jun 19",
    "tasks_closed": 38
}, {
    "date_time_value": "03 Jun 20",
    "tasks_closed": 49
}, {
    "date_time_value": "03 Jun 21",
    "tasks_closed": 48
}, {
    "date_time_value": "03 Jun 22",
    "tasks_closed": 51
}, {
    "date_time_value": "03 Jun 23",
    "tasks_closed": 44
}, {
    "date_time_value": "04 Jun 00",
    "tasks_closed": 58
}, {
    "date_time_value": "04 Jun 01",
    "tasks_closed": 35
}, {
    "date_time_value": "04 Jun 02",
    "tasks_closed": 38
}, {
    "date_time_value": "04 Jun 03",
    "tasks_closed": 48
}, {
    "date_time_value": "04 Jun 04",
    "tasks_closed": 49
}, {
    "date_time_value": "04 Jun 05",
    "tasks_closed": 50
}, {
    "date_time_value": "04 Jun 06",
    "tasks_closed": 59
}, {
    "date_time_value": "04 Jun 07",
    "tasks_closed": 53
}, {
    "date_time_value": "04 Jun 08",
    "tasks_closed": 40
}, {
    "date_time_value": "04 Jun 09",
    "tasks_closed": 46
}, {
    "date_time_value": "04 Jun 10",
    "tasks_closed": 47
}, {
    "date_time_value": "04 Jun 11",
    "tasks_closed": 56
}, {
    "date_time_value": "04 Jun 12",
    "tasks_closed": 46
}, {
    "date_time_value": "04 Jun 13",
    "tasks_closed": 35
}, {
    "date_time_value": "04 Jun 14",
    "tasks_closed": 31
}, {
    "date_time_value": "04 Jun 15",
    "tasks_closed": 32
}, {
    "date_time_value": "04 Jun 16",
    "tasks_closed": 48
}, {
    "date_time_value": "04 Jun 17",
    "tasks_closed": 30
}, {
    "date_time_value": "04 Jun 18",
    "tasks_closed": 58
}, {
    "date_time_value": "04 Jun 19",
    "tasks_closed": 36
}, {
    "date_time_value": "04 Jun 20",
    "tasks_closed": 40
}, {
    "date_time_value": "04 Jun 21",
    "tasks_closed": 48
}, {
    "date_time_value": "04 Jun 22",
    "tasks_closed": 54
}, {
    "date_time_value": "04 Jun 23",
    "tasks_closed": 33
}, {
    "date_time_value": "05 Jun 00",
    "tasks_closed": 59
}, {
    "date_time_value": "05 Jun 01",
    "tasks_closed": 42
}, {
    "date_time_value": "05 Jun 02",
    "tasks_closed": 51
}, {
    "date_time_value": "05 Jun 03",
    "tasks_closed": 38
}, {
    "date_time_value": "05 Jun 04",
    "tasks_closed": 38
}, {
    "date_time_value": "05 Jun 05",
    "tasks_closed": 59
}, {
    "date_time_value": "05 Jun 06",
    "tasks_closed": 38
}, {
    "date_time_value": "05 Jun 07",
    "tasks_closed": 38
}, {
    "date_time_value": "05 Jun 08",
    "tasks_closed": 41
}, {
    "date_time_value": "05 Jun 09",
    "tasks_closed": 39
}, {
    "date_time_value": "05 Jun 10",
    "tasks_closed": 44
}, {
    "date_time_value": "05 Jun 11",
    "tasks_closed": 31
}, {
    "date_time_value": "05 Jun 12",
    "tasks_closed": 41
}, {
    "date_time_value": "05 Jun 13",
    "tasks_closed": 50
}, {
    "date_time_value": "05 Jun 14",
    "tasks_closed": 57
}, {
    "date_time_value": "05 Jun 15",
    "tasks_closed": 53
}, {
    "date_time_value": "05 Jun 16",
    "tasks_closed": 51
}, {
    "date_time_value": "05 Jun 17",
    "tasks_closed": 43
}, {
    "date_time_value": "05 Jun 18",
    "tasks_closed": 33
}, {
    "date_time_value": "05 Jun 19",
    "tasks_closed": 46
}, {
    "date_time_value": "05 Jun 20",
    "tasks_closed": 53
}, {
    "date_time_value": "05 Jun 21",
    "tasks_closed": 51
}, {
    "date_time_value": "05 Jun 22",
    "tasks_closed": 56
}, {
    "date_time_value": "05 Jun 23",
    "tasks_closed": 39
}, {
    "date_time_value": "06 Jun 00",
    "tasks_closed": 35
}, {
    "date_time_value": "06 Jun 01",
    "tasks_closed": 31
}, {
    "date_time_value": "06 Jun 02",
    "tasks_closed": 54
}, {
    "date_time_value": "06 Jun 03",
    "tasks_closed": 40
}, {
    "date_time_value": "06 Jun 04",
    "tasks_closed": 59
}, {
    "date_time_value": "06 Jun 05",
    "tasks_closed": 51
}, {
    "date_time_value": "06 Jun 06",
    "tasks_closed": 53
}, {
    "date_time_value": "06 Jun 07",
    "tasks_closed": 45
}, {
    "date_time_value": "06 Jun 08",
    "tasks_closed": 49
}, {
    "date_time_value": "06 Jun 09",
    "tasks_closed": 54
}, {
    "date_time_value": "06 Jun 10",
    "tasks_closed": 43
}, {
    "date_time_value": "06 Jun 11",
    "tasks_closed": 31
}, {
    "date_time_value": "06 Jun 12",
    "tasks_closed": 50
}, {
    "date_time_value": "06 Jun 13",
    "tasks_closed": 43
}, {
    "date_time_value": "06 Jun 14",
    "tasks_closed": 34
}, {
    "date_time_value": "06 Jun 15",
    "tasks_closed": 44
}, {
    "date_time_value": "06 Jun 16",
    "tasks_closed": 48
}, {
    "date_time_value": "06 Jun 17",
    "tasks_closed": 50
}, {
    "date_time_value": "06 Jun 18",
    "tasks_closed": 41
}, {
    "date_time_value": "06 Jun 19",
    "tasks_closed": 37
}, {
    "date_time_value": "06 Jun 20",
    "tasks_closed": 37
}, {
    "date_time_value": "06 Jun 21",
    "tasks_closed": 35
}, {
    "date_time_value": "06 Jun 22",
    "tasks_closed": 51
}, {
    "date_time_value": "06 Jun 23",
    "tasks_closed": 57
}, {
    "date_time_value": "07 Jun 00",
    "tasks_closed": 40
}, {
    "date_time_value": "07 Jun 01",
    "tasks_closed": 59
}, {
    "date_time_value": "07 Jun 02",
    "tasks_closed": 52
}, {
    "date_time_value": "07 Jun 03",
    "tasks_closed": 43
}, {
    "date_time_value": "07 Jun 04",
    "tasks_closed": 41
}, {
    "date_time_value": "07 Jun 05",
    "tasks_closed": 54
}, {
    "date_time_value": "07 Jun 06",
    "tasks_closed": 35
}, {
    "date_time_value": "07 Jun 07",
    "tasks_closed": 47
}, {
    "date_time_value": "07 Jun 08",
    "tasks_closed": 51
}, {
    "date_time_value": "07 Jun 09",
    "tasks_closed": 34
}, {
    "date_time_value": "07 Jun 10",
    "tasks_closed": 41
}, {
    "date_time_value": "07 Jun 11",
    "tasks_closed": 38
}, {
    "date_time_value": "07 Jun 12",
    "tasks_closed": 42
}, {
    "date_time_value": "07 Jun 13",
    "tasks_closed": 57
}, {
    "date_time_value": "07 Jun 14",
    "tasks_closed": 33
}, {
    "date_time_value": "07 Jun 15",
    "tasks_closed": 43
}, {
    "date_time_value": "07 Jun 16",
    "tasks_closed": 38
}, {
    "date_time_value": "07 Jun 17",
    "tasks_closed": 38
}, {
    "date_time_value": "07 Jun 18",
    "tasks_closed": 58
}, {
    "date_time_value": "07 Jun 19",
    "tasks_closed": 50
}, {
    "date_time_value": "07 Jun 20",
    "tasks_closed": 44
}, {
    "date_time_value": "07 Jun 21",
    "tasks_closed": 59
}, {
    "date_time_value": "07 Jun 22",
    "tasks_closed": 35
}, {
    "date_time_value": "07 Jun 23",
    "tasks_closed": 44
}
];




Ext.require(['Ext.chart.*', 'Ext.data.*']);

Ext.onReady(function () {

    var fieldNameLookup = {
        'date_time_value': 'Tasks Closed Date',
        'tasks_closed': 'Tasks Closed'
    };

    var store = new Ext.data.JsonStore({

        fields: [{
            name: 'date_time_value',
            type: 'string'
//            dateFormat: 'Y-m-d'

        }, {
            name: 'tasks_closed',
            type: 'int'
        }],
        data: jsonData
    })

    Ext.chart.theme.myTheme = Ext.extend(Ext.chart.theme.Base, {
        constructor: function (config) {
            Ext.chart.theme.Base.prototype.constructor.call(this, Ext.apply({
                colors: ['#8EB8C5', '#DF9550', '#985F70'],
                axisTitleLeft: {
                    font: '11px Verdana'
                },
                axisTitleRight: {
                    font: '11px Verdana'
                },
                axisTitleBottom: {
                    font: '11px Verdana'
                }
            }, config));
        }
    });

    var chart = Ext.create('Ext.chart.Chart', {
        store: store,
        height: 200,
        width: 440,
        xtype: 'chart',
        animate: false,
        theme: 'myTheme',
        title: '',
        shadow: false,
        renderTo: Ext.getBody(),
        axes: [{
            title: 'Tasks',
            type: 'Numeric',
            position: 'left',

            fields: ['tasks_closed'],

            minimum: 0,
            label: {
                font: '9px Verdana'
            }
        }, {
            title: 'Dates',
            type: 'Category',
            position: 'bottom',
            fields: ['date_time_value'],
            dashSize: 0,
            label: {
                rotate: {
                    degrees: 270
                },
                font: '9px Verdana'
            }
         }],
        series: [{
            type: 'line',
            axis: 'left',
            fill: false,
            xField: ['date_time_value'],
            yField: ['tasks_closed'],
            smooth: true,
            showMarkers: false,
            tips: {
                trackMouse: true,
                width: 140,
                height: 20,
                renderer: function (storeItem, item) {
                    var toolText = getToolTipContent(item);
                    this.width = (toolText.length * 8);
                    this.setTitle(toolText);
                }
            }
         }]
    });




    function reloadData() {
        store.load();
    }

    function getToolTipContent(item) {
        for (var i = 0; i < item.series.items.length; i++) {
            if (item == item.series.items[i]) {
                numFields = item.series.items.length / item.storeItem.store.getCount();
                fieldName = String(item.series.yField[i % numFields]);
            }
        }

        return fieldNameLookup[fieldName] + ' = ' + (String(item.value[1]));

    }

});
        
    </script>
</body>
</html>
