<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Failed test case</title>
<link rel="stylesheet" type="text/css" href="../../resources/css/ext-all.css" />
<script type="text/javascript" src="../../ext.js"></script>
</head>
<body>
    <script type="text/javascript" charset="utf-8">
        //your test case goes here
    	Ext.onReady(function() {
    		var panel , chk=false, lst ={
    			expand:function(){
    				if(chk) panel.doLayout();
    			},
    			collapse:function(){
    				if(chk) panel.doLayout();
    			}
    		};
    		Ext.create('Ext.Button', {
    		    text: 'Workaround Disabled',
    		    renderTo: Ext.getBody(),
    		    handler: function() {
    		        chk=!chk;
    		        this.setText((!chk)?'Workaround Disabled':'Workaround Enabled');
    		    }
    		});
    		panel = Ext.create('Ext.panel.Panel', {
    			  renderTo: Ext.getBody()
    			  ,layout: {
    			    align: 'stretch'
    			    ,type: 'vbox'
    			  }
    			  //,suspendLayout:true
    			  ,items: [{
    			    title: 'Panel 1'
    			    ,html: 'Body of panel 1<br>Only 1/3 of the total container height.'
    			    ,flex: 1
    			    ,collapsible: true,
      			  listeners:lst
    			  },{
    			    title: 'Panel 2'
    			    ,html: 'The height of this panel should by 2/3 of the whole.'
    			    ,flex: 2
    			    ,collapsible: true,
      			  listeners:lst
    			  }]
    			  ,height: 400
    			  ,width: 400
    			  ,frame: true
    			});
    		//panel.doLayout();

    		});
        
    </script>
</body>
</html>