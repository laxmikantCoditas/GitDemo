<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>3595</title>
<link rel="stylesheet" type="text/css" href="../../resources/css/ext-all.css" />
<script type="text/javascript" src="../../ext.js"></script>
</head>
<body>
    <script type="text/javascript" charset="utf-8">
Ext.require([
    'Ext.form.*',
    'Ext.layout.container.Column',
    'Ext.tab.Panel'
]);

Ext.onReady(function(){

    Ext.QuickTips.init();

    Ext.define('contact', {
        extend: 'Ext.data.Model',
        fields: [
            {name: 'firstname'},
            {name: 'lastname'},
            {name: 'company'},
            {name: 'email'}
        ]
    });

    var simple = Ext.create('Ext.form.Panel', {
        url:'save-form.php',
        frame:true,
        title: 'Simple Form',
        bodyStyle:'padding:5px 5px 0',
        width: 350,
        fieldDefaults: {
            msgTarget: 'side',
            labelWidth: 75
        },
        defaultType: 'textfield',
        defaults: {
            anchor: '100%'
        },

        items: [{
            fieldLabel: 'First Name',
            name: 'firstname',
            allowBlank:false,
	    listeners: {
		change: function () {
			console.log("changed!");
		}
	    }
        },{
            fieldLabel: 'Last Name',
            name: 'lastname'
        },{
            fieldLabel: 'Company',
            name: 'company'
        }, {
            fieldLabel: 'Email',
            name: 'email',
            vtype:'email'
        }],

        buttons: [{
            text: 'Save'
        },{
            text: 'Cancel'
        }],
        renderTo: Ext.getBody()
    });

    //simple.getForm().setValues({firstname: "Ben", lastname: "Toll", company: "Sencha", email: "ben.toll@extjs.com"});
    var rec = Ext.create("contact", {
      firstname: "Ben",
      lastname: "Toll",
      company: "Sencha",
      email: "ben.toll@sencha.com"
    });
    simple.loadRecord(rec);

});
</script>
</body>
</html>
